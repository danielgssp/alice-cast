<script src="./src/App.js"></script>
<script src="./src/Chromecast/Chromecast.js"></script>
<script src="//www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
<link rel="stylesheet" href="src/public/style/css.css"/>

<main id="main">
  <h1>CAF - Receiver</h1>
</main>

<script>
  window.onload = async () =>
  {
    var ctx = cast.framework.CastReceiverContext.getInstance();
    var options = new cast.framework.CastReceiverOptions();
    var CHANNEL = 'urn:x-cast:com.solinftec.alice';

    //receiver message of send app
    options.customNamespaces = Object.assign({});
    options.customNamespaces[CHANNEL] = cast.framework.system.MessageType.JSON;
    ctx.addCustomMessageListener(CHANNEL, function(customEvent) {
      var message = customEvent.data
      console.log("Message received from " + 
                  "[" +  customEvent.senderId +  "] " +
                  ": " + JSON.stringify(message));
    });

    ctx.start(options);
  };
</script>